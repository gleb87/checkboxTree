<!DOCTYPE HTML>
<html>
	<head>
		<meta charset="utf-8">
		<link rel="stylesheet" href="tree.css">
		<script src="tree.js"></script>
		<script src="regions.js"></script>
		
		<script src="http://code.jquery.com/jquery-latest.js"></script>
  		<script src="http://cdnjs.cloudflare.com/ajax/libs/lodash.js/0.9.0/lodash.js"></script>
	</head>
	<body>
		<script type="text/template" id="tree-template">
			<ul>
			<% for (var i = 0; i < treeData[id].children.length; i++) { %> 
			<%	var idi = treeData[id].children[i]; %>
			<%  var liClass = ""; %>
			<% if (treeData[idi].children) { liClass = "class='tree-item'"; }%>
				<li <%=liClass%>>
					<% if (treeData[idi].children) { %>
					<span class="toggle-button"></span>
					<% }; %>
					<input type="checkbox" value="<%=treeData[idi].title%>" id="<%=idi%>">
					<label for="<%=idi%>"><%=treeData[idi].title%></label>
				</li>
			<% }; %>
			</ul>
		</script>

		<div id="tree-holder"></div>

		<script>
			var regionTree = new Tree({
				template: $("#tree-template").html(),
				treeData: regions,
			});

			$("#tree-holder").append(regionTree.getElement());

		</script>
		
	</body>
</html>